{"ast":null,"code":"import axios from \"axios\";\nconst {\n  createSlice,\n  createAsyncThunk\n} = require(\"@reduxjs/toolkit\");\n\n// for fetching from backend\nexport const fetchALLProjects = createAsyncThunk(\"projects/getAPI\", async () => {\n  const response = await axios.get(\"/projects\");\n  return response.data;\n});\n\n//adding new items\nexport const saveNewProject = createAsyncThunk(\"projects/createAPI\", async payload => {\n  const response = await axios.post(\"/projects\", payload);\n  return response.data;\n});\n// updating project\nexport const updateProject = createAsyncThunk(\"projects/updateAPI\", async payload => {\n  const response = await axios.put(`/projects${payload.id}`, payload);\n  return response.data;\n});\n\n//delete project \nexport const deleteProject = createAsyncThunk(\"projects/deleteAPI\", async id => {\n  const response = await axios.delete(`/projects/${id}`);\n  return id;\n});\n\n//instiall state \nconst initialState = {\n  projectsData: [],\n  loading: \"idle\"\n};\n\n//project slice \nconst adminprojectslice = createSlice({\n  name: \"projects\",\n  initialState,\n  reducers: {},\n  // data fetching extra reducers ///\n  extraReducers: builder => {\n    builder.addCase(fetchALLProjects.pending, (state, action) => {\n      state.loading = \"pending\";\n    });\n    builder.addCase(fetchALLProjects.fulfilled, (state, action) => {\n      state.loading = \"idle\";\n      state.projectsData = action.payload;\n    });\n    //// data fetch reducers\n\n    //data add extra reducers\n    builder.addCase(saveNewProject.pending, (state, action) => {\n      state.loading = \"pending\";\n    });\n    builder.addCase(saveNewProject.fulfilled, (state, action) => {\n      state.loading = \"idle\";\n      state.projectsData.unshift(action.payload);\n    });\n    /////////// data add\n    builder.addCase(updateProject.pending, state => {\n      state.loading = \"pending\";\n    });\n    builder.addCase(updateProject.fulfilled, (state, action) => {\n      state.loading = \"idle\";\n      state.projectsData = state.projectsData.filter(_ => _.id !== action.payload.id);\n      state.projectsData.unshift(action.payload);\n    });\n    //  data delete\n    builder.addCase(deleteProject.pending, state => {\n      state.loading = \"pending\";\n    });\n    builder.addCase(deleteProject.fulfilled, (state, action) => {\n      state.loading = \"idle\";\n      state.projectsData = state.projectsData.filter(_ => _.id !== action.payload);\n    });\n  }\n});\nexport const getAllProjects = state => state.project.projectsData;\nexport const getLoading = state => state.project.loading;\nexport const getProjectById = id => {\n  return state => state.project.projectsData.filter(_ => _.id === id)[0];\n};\nexport default adminprojectslice.reducer;","map":{"version":3,"names":["axios","createSlice","createAsyncThunk","require","fetchALLProjects","response","get","data","saveNewProject","payload","post","updateProject","put","id","deleteProject","delete","initialState","projectsData","loading","adminprojectslice","name","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","unshift","filter","_","getAllProjects","project","getLoading","getProjectById","reducer"],"sources":["/home/ruo/tracking-3/tracking-front/src/adminprojects/adminprojectslice.js"],"sourcesContent":["import axios from \"axios\";\n\nconst { createSlice, createAsyncThunk } = require(\"@reduxjs/toolkit\");\n\n // for fetching from backend\nexport const fetchALLProjects = createAsyncThunk(\"projects/getAPI\", async () => {\n  const response = await axios.get(\"/projects\");\n  return response.data;\n});\n\n//adding new items\nexport const saveNewProject = createAsyncThunk(\n  \"projects/createAPI\",\n  async (payload) => {\n    const response = await axios.post(\n      \"/projects\",\n      payload\n    );\n    return response.data;\n  }\n);\n// updating project\nexport const updateProject = createAsyncThunk(\"projects/updateAPI\", async (payload) => {\n  const response = await axios.put(\n    `/projects${payload.id}`,\n    payload\n  );\n  return response.data;\n});\n\n//delete project \nexport const deleteProject = createAsyncThunk(\"projects/deleteAPI\", async (id) => {\n    const response = await axios.delete(`/projects/${id}`);\n    return id;\n  });\n\n\n //instiall state \nconst initialState = {\n  projectsData: [],\n  loading: \"idle\",\n};\n\n//project slice \nconst adminprojectslice = createSlice({\n  name: \"projects\",\n  initialState,\n  reducers: {},\n  // data fetching extra reducers ///\n  extraReducers: (builder) => {\n    builder.addCase(fetchALLProjects.pending, (state, action) => {\n      state.loading = \"pending\";\n    });\n    builder.addCase(fetchALLProjects.fulfilled, (state, action) => {\n      state.loading = \"idle\";\n      state.projectsData = action.payload;\n    });\n    //// data fetch reducers\n\n    //data add extra reducers\n    builder.addCase(saveNewProject.pending, (state, action) => {\n      state.loading = \"pending\";\n    });\n    builder.addCase(saveNewProject.fulfilled, (state, action) => {\n      state.loading = \"idle\";\n      state.projectsData.unshift(action.payload);\n    });\n /////////// data add\n builder.addCase(updateProject.pending, (state) => {\n   state.loading = \"pending\";\n });\n builder.addCase(updateProject.fulfilled, (state, action) => {\n   state.loading = \"idle\";\n   state.projectsData = state.projectsData.filter((_) => _.id !== action.payload.id);\n   state.projectsData.unshift(action.payload);\n });\n//  data delete\nbuilder.addCase(deleteProject.pending, (state) => {\n    state.loading = \"pending\";\n  });\n  builder.addCase(deleteProject.fulfilled, (state, action) => {\n    state.loading = \"idle\";\n    state.projectsData = state.projectsData.filter((_) => _.id !== action.payload);\n  });\n  },\n});\n\nexport const getAllProjects = (state) => state.project.projectsData;\nexport const getLoading = (state) => state.project.loading;\nexport const getProjectById = (id) => {\n  return (state) => state.project.projectsData.filter((_) => _.id === id)[0];\n};\nexport default adminprojectslice.reducer;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAM;EAAEC,WAAW;EAAEC;AAAiB,CAAC,GAAGC,OAAO,CAAC,kBAAkB,CAAC;;AAEpE;AACD,OAAO,MAAMC,gBAAgB,GAAGF,gBAAgB,CAAC,iBAAiB,EAAE,YAAY;EAC9E,MAAMG,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAC,WAAW,CAAC;EAC7C,OAAOD,QAAQ,CAACE,IAAI;AACtB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,cAAc,GAAGN,gBAAgB,CAC5C,oBAAoB,EACpB,MAAOO,OAAO,IAAK;EACjB,MAAMJ,QAAQ,GAAG,MAAML,KAAK,CAACU,IAAI,CAC/B,WAAW,EACXD,OAAO,CACR;EACD,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC,CACF;AACD;AACA,OAAO,MAAMI,aAAa,GAAGT,gBAAgB,CAAC,oBAAoB,EAAE,MAAOO,OAAO,IAAK;EACrF,MAAMJ,QAAQ,GAAG,MAAML,KAAK,CAACY,GAAG,CAC7B,YAAWH,OAAO,CAACI,EAAG,EAAC,EACxBJ,OAAO,CACR;EACD,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMO,aAAa,GAAGZ,gBAAgB,CAAC,oBAAoB,EAAE,MAAOW,EAAE,IAAK;EAC9E,MAAMR,QAAQ,GAAG,MAAML,KAAK,CAACe,MAAM,CAAE,aAAYF,EAAG,EAAC,CAAC;EACtD,OAAOA,EAAE;AACX,CAAC,CAAC;;AAGH;AACD,MAAMG,YAAY,GAAG;EACnBC,YAAY,EAAE,EAAE;EAChBC,OAAO,EAAE;AACX,CAAC;;AAED;AACA,MAAMC,iBAAiB,GAAGlB,WAAW,CAAC;EACpCmB,IAAI,EAAE,UAAU;EAChBJ,YAAY;EACZK,QAAQ,EAAE,CAAC,CAAC;EACZ;EACAC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAACpB,gBAAgB,CAACqB,OAAO,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3DD,KAAK,CAACR,OAAO,GAAG,SAAS;IAC3B,CAAC,CAAC;IACFK,OAAO,CAACC,OAAO,CAACpB,gBAAgB,CAACwB,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC7DD,KAAK,CAACR,OAAO,GAAG,MAAM;MACtBQ,KAAK,CAACT,YAAY,GAAGU,MAAM,CAAClB,OAAO;IACrC,CAAC,CAAC;IACF;;IAEA;IACAc,OAAO,CAACC,OAAO,CAAChB,cAAc,CAACiB,OAAO,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACzDD,KAAK,CAACR,OAAO,GAAG,SAAS;IAC3B,CAAC,CAAC;IACFK,OAAO,CAACC,OAAO,CAAChB,cAAc,CAACoB,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC3DD,KAAK,CAACR,OAAO,GAAG,MAAM;MACtBQ,KAAK,CAACT,YAAY,CAACY,OAAO,CAACF,MAAM,CAAClB,OAAO,CAAC;IAC5C,CAAC,CAAC;IACL;IACAc,OAAO,CAACC,OAAO,CAACb,aAAa,CAACc,OAAO,EAAGC,KAAK,IAAK;MAChDA,KAAK,CAACR,OAAO,GAAG,SAAS;IAC3B,CAAC,CAAC;IACFK,OAAO,CAACC,OAAO,CAACb,aAAa,CAACiB,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC1DD,KAAK,CAACR,OAAO,GAAG,MAAM;MACtBQ,KAAK,CAACT,YAAY,GAAGS,KAAK,CAACT,YAAY,CAACa,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAAClB,EAAE,KAAKc,MAAM,CAAClB,OAAO,CAACI,EAAE,CAAC;MACjFa,KAAK,CAACT,YAAY,CAACY,OAAO,CAACF,MAAM,CAAClB,OAAO,CAAC;IAC5C,CAAC,CAAC;IACH;IACAc,OAAO,CAACC,OAAO,CAACV,aAAa,CAACW,OAAO,EAAGC,KAAK,IAAK;MAC9CA,KAAK,CAACR,OAAO,GAAG,SAAS;IAC3B,CAAC,CAAC;IACFK,OAAO,CAACC,OAAO,CAACV,aAAa,CAACc,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC1DD,KAAK,CAACR,OAAO,GAAG,MAAM;MACtBQ,KAAK,CAACT,YAAY,GAAGS,KAAK,CAACT,YAAY,CAACa,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAAClB,EAAE,KAAKc,MAAM,CAAClB,OAAO,CAAC;IAChF,CAAC,CAAC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMuB,cAAc,GAAIN,KAAK,IAAKA,KAAK,CAACO,OAAO,CAAChB,YAAY;AACnE,OAAO,MAAMiB,UAAU,GAAIR,KAAK,IAAKA,KAAK,CAACO,OAAO,CAACf,OAAO;AAC1D,OAAO,MAAMiB,cAAc,GAAItB,EAAE,IAAK;EACpC,OAAQa,KAAK,IAAKA,KAAK,CAACO,OAAO,CAAChB,YAAY,CAACa,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAAClB,EAAE,KAAKA,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5E,CAAC;AACD,eAAeM,iBAAiB,CAACiB,OAAO"},"metadata":{},"sourceType":"module"}